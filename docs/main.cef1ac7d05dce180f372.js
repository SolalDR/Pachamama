webpackJsonp([0],[,function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),s=i(r),u=n(20),c=n(3),l=(i(c),n(14)),d=i(l),h=n(22),f=i(h),m=n(23),p=i(m),b=n(13),v=i(b),y=function(){function t(){o(this,t),this.config=s.default,this.noise=new u.Noise,this._display=!0,this.boundaries={x:{min:0,max:0},y:{min:0,max:0},z:{min:0,max:0}},this.new(),this.initMesh()}return a(t,null,[{key:"CONFIG",get:function(){return s.default}}]),a(t,[{key:"new",value:function(){this.tree=new d.default({noise:this.noise}),this.setBoundaries(),this.newGeometry()}},{key:"setBoundaries",value:function(){var e=this;this.tree.map(function(t){for(var n in e.boundaries)t.topCoord.x<e.boundaries.x.min&&(e.boundaries.x.min=t.topCoord.x),t.topCoord.x>e.boundaries.x.max&&(e.boundaries.x.max=t.topCoord.x),t.topCoord.y<e.boundaries.y.min&&(e.boundaries.y.min=t.topCoord.y),t.topCoord.y>e.boundaries.y.max&&(e.boundaries.y.max=t.topCoord.y),t.topCoord.z<e.boundaries.z.min&&(e.boundaries.z.min=t.topCoord.z),t.topCoord.z>e.boundaries.z.max&&(e.boundaries.z.max=t.topCoord.z)})}},{key:"replace",value:function(){var e=this;if(!(this.animationAdvanced<1)){var n=0;this.display&&(this.display=!1,n=t.CONFIG.animation.durationLeave+2e3),setTimeout(function(){e.new(),e.display=!0},n)}}},{key:"newGeometry",value:function(){this.tree.update(),this.geometry=new v.default(this,{animate:!0}),this.mesh&&(this.mesh.geometry=this.geometry)}},{key:"updateUniforms",value:function(){this.material.uniforms.noiseSpeed.value=t.CONFIG.animation.noise.speed,this.material.uniforms.noiseIntensity.value=t.CONFIG.animation.noise.force,this.material.uniforms.animRadius.value=t.CONFIG.animation.hurricane.radius,this.material.uniforms.animRotationSpeed.value=t.CONFIG.animation.hurricane.turns,this.material.uniforms.durationLeave.value=t.CONFIG.animation.durationLeave,this.material.uniforms.pointSize.value=t.CONFIG.compute.pointW,this.material.uniforms.needsUpdate=!0}},{key:"render",value:function(e){this.time=e,this.material.uniforms.time.value=e,this.material.uniforms.needsUpdate=!0}},{key:"initMesh",value:function(){this.material=new e.ShaderMaterial({uniforms:{time:{type:"f",value:0},start:{type:"f",value:0},isLeaving:{type:"bool",value:!this.display},noiseSpeed:{type:"f",value:t.CONFIG.animation.noise.speed},noiseIntensity:{type:"f",value:t.CONFIG.animation.noise.force},animRadius:{type:"f",value:t.CONFIG.animation.hurricane.radius},animRotationSpeed:{type:"f",value:t.CONFIG.animation.hurricane.turns},durationLeave:{type:"f",value:t.CONFIG.animation.durationLeave},pointSize:{type:"f",value:t.CONFIG.compute.pointW}},fragmentShader:f.default,vertexShader:p.default}),this.mesh=new e.Points(this.geometry,this.material),this.mesh.name="Tree",this.mesh.position.y=-5}},{key:"display",set:function(e){this.animationAdvanced<1||(this.material.uniforms.start.value=this.time,this.material.uniforms.isLeaving.value=!e,this.material.uniforms.needsUpdate=!0,this._display=e)},get:function(){return this._display}},{key:"animationAdvanced",get:function(){var e=!1===this.display?t.CONFIG.animation.durationLeave+2e3:500*this.boundaries.y.max+1e3;return Math.min(1,(this.time-this.material.uniforms.start.value)/e)}}]),t}();t.default=y}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BRANCH:1,TRUNK:2,HERITANCE:3,branch:{noise:{force:1.5,speed:.15},l:{min:.1,max:1.5,wRat:{min:10,max:15}},w:{min:.05,max:.5,transfer:{min:.5,max:.7}},transition:{w:.3},prob:{behaviourSeparation:{division:0,ramification:1},countChild:[0,0,2,2,0,0]}},trunk:{l:2.5,w:.5,transition:{w:.3},noise:{force:.15,speed:.3},prob:{behaviourSeparation:{division:.2,ramification:1},countChild:[0,0,0,7,0,0]}},compute:{precision:.01,dist:.1,pointW:1.5},animation:{noise:{speed:.001,force:.1},hurricane:{radius:2,turns:5},durationLeave:500}}},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),s=i(r),u=n(15),c=i(u),l=n(4),d=(i(l),n(16)),h=i(d),f=function(){function t(e){o(this,t),this.type=void 0!==e.type?e.type:s.default.BRANCH,this.inheritance=!!e.inheritance,this.parent=e.parent?e.parent:null,this.noise=void 0!==e.noise?e.noise:this.parent.noise,this.length=null,this.weight=null,this.ramifications=[],this.init()}return a(t,[{key:"init",value:function(){this.noiseCoord=new e.Vector2(Math.random(),Math.random());var t=c.default.between(s.default.branch.w.transfer.min,s.default.branch.w.transfer.max);this.weight=t*this.parent.weight;var n=c.default.between(s.default.branch.l.wRat.min,s.default.branch.l.wRat.max);this.length=Math.min(this.weight*n,s.default.branch.l.max),this.refreshBoundaries(),this.canHaveChild&&this.genRamification()}},{key:"getCoordsAtLength",value:function(t){var n=this.config,i=n.noise.force*t*this.noise.simplex2(n.noise.speed*t+this.noiseCoord.x,this.noiseCoord.y),o=n.noise.force*t*this.noise.simplex2(this.noiseCoord.x,this.noiseCoord.x+n.noise.speed*t),a=(new e.Vector3).copy(this.baseCoord);return a.x+=i,a.y+=t,a.z+=o,a}},{key:"refreshBoundaries",value:function(){this.baseCoord=null==this.parent?new e.Vector3:this.parent.topCoord,this.topCoord=this.getCoordsAtLength(this.length)}},{key:"update",value:function(){this.refreshBoundaries();for(var e=0;e<this.ramifications.length;e++)this.ramifications[e].update()}},{key:"genRamification",value:function(){for(var e=c.default.random(this.config.prob.countChild),n=c.default.random(this.config.prob.behaviourSeparation),i="ramification"==n,o=0;o<e;o++)this.ramifications.push(new t({inheritance:i,parent:this})),i=!1}},{key:"map",value:function(e){for(var t=0;t<this.ramifications.length;t++)e(this),this.ramifications[t].map(e)}},{key:"genCircles",value:function(t,n){var i,o,a,r,u,c,l=[];t.unshift(this.baseCoord);for(var d=1;d<t.length;d++){u=1-Math.min(1,d*n/this.length/this.config.transition.w),c=this.parent?this.parent.weight-this.weight:.8*this.weight,r=u*c+this.weight,o=Math.floor(2*Math.PI*r/s.default.compute.dist),a=Math.random()*(2*Math.PI/6),i=(new e.Vector3).copy(t[d]).sub(t[d-1]);h.default.genCircle(o,a,r).map(function(e){e=h.default.rotateLooking(e,i),e.add(t[d]),l.push(e)})}return l}},{key:"compute",value:function(e){for(var t=[],n=[],i=Math.floor(this.length/e),o=0;o<i;o++)t.push(this.getCoordsAtLength(o*e)),n.push(this.weight);t=this.genCircles(t,e);for(var o=0;o<this.ramifications.length;o++){var a=this.ramifications[o].compute(e);t=t.concat(a.vertices),n=n.concat(a.weights)}return{vertices:t,weights:n}}},{key:"config",get:function(){return this.type==s.default.TRUNK?s.default.trunk:s.default.branch}},{key:"canHaveChild",get:function(){return this.weight>s.default.branch.w.min}}]),t}();t.default=f}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e.Vector3,a=e.Vector2,r=(e.Vector4,function(){function e(){n(this,e)}return i(e,null,[{key:"randomInBox",value:function(e){return new o((e.x.max-e.x.min)*Math.random()+e.x.min,(e.y.max-e.y.min)*Math.random()+e.y.min,(e.z.max-e.z.min)*Math.random()+e.z.min)}},{key:"randomInCircle",value:function(e){var t=2*Math.random()*Math.PI;return new a(Math.cos(t)*e,Math.sin(t)*e)}},{key:"inSphere",value:function(e){var t=2*Math.PI*Math.random(),n=Math.acos(2*Math.random()-1);return new o(e*Math.sin(n)*Math.cos(t),e*Math.sin(n)*Math.sin(t),e*Math.cos(n))}},{key:"randomInDisc",value:function(e){var t=2*Math.random()*Math.PI;return new o(Math.cos(t)*e,0,Math.sin(t)*e)}},{key:"betweenNumber",value:function(e,t){return(t-e)*Math.random()+e}},{key:"loopRandomInDisc",value:function(t,n){for(var i=[],o=0;o<t;o++)i.push(e.randomInDisc(n));return i}},{key:"loopBetweenNumber",value:function(t,n,i){for(var o=[],a=0;a<t;a++)o.push(e.betweenNumber(n,i));return o}}]),e}());t.default=r}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(12),s=i(r),u=n(21),c=n(11),l=i(c),d=n(1),h=i(d),f=n(9),m=i(f),p=n(10),b=i(p),v=n(8),y=i(v),g=function(){function t(){o(this,t),this.config=m.default,window.addEventListener("resize",this.onWindowResize.bind(this),!1),document.body.addEventListener("click",this.updateMousePosition.bind(this),!1),this.container=document.querySelector("#main"),document.body.appendChild(this.container),this.renderer=new e.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(15658734,1),this.container.appendChild(this.renderer.domElement),this.camera=new e.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(10,0,0),this.controls=new s.default(this.camera),this.mouse=new e.Vector2,this.clock=new l.default,this.config.stats&&this.initStat(),this.scene=new e.Scene,this.tree=new h.default,this.scene.add(this.tree.mesh),this.galaxy=new y.default,this.scene.add(this.galaxy.mesh),this.config.gui&&(this.initDatGUI=b.default.bind(this),this.initDatGUI()),this.onWindowResize(),this.renderer.animate(this.render.bind(this))}return a(t,[{key:"initStat",value:function(){this.stats=new u.Stats,this.stats.showPanel(1),document.body.appendChild(this.stats.dom)}},{key:"beforeRender",value:function(){this.config.stats&&this.stats.begin(),this.clock.update()}},{key:"afterRender",value:function(){this.config.stats&&this.stats.end()}},{key:"render",value:function(){this.beforeRender(),this.controls.animate(),this.tree.render(this.clock.elapsed),this.galaxy.render(this.clock.elapsed),this.renderer.render(this.scene,this.camera),this.afterRender()}},{key:"updateMousePosition",value:function(e){this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}]),t}();t.default=g}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";n(6);var i=n(5),o=function(e){return e&&e.__esModule?e:{default:e}}(i);window.app=new o.default},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function t(){n(this,t),this.config={limit:{min:20,max:40},scale:.5},this.mesh=this.getInstances(100)}return i(t,[{key:"getInstances",value:function(t){for(var n=new e.InstancedBufferGeometry,i=[],o=0;o<3;o++){var a=Math.PI/3*o;i.push(Math.cos(a),Math.sin(a),0)}var r=new e.BufferAttribute(new Float32Array(i),3);n.addAttribute("position",r);var s=new Float32Array(3*t),u=new Float32Array(4*t),c=new Float32Array(3*t),l=0,d=0,h=0,f=new e.Quaternion;for(o=0;o<t;o++)s[l++]=this.config.limit.min+(Math.random()-.5)*(this.config.limit.max-this.config.limit.min),s[l++]=this.config.limit.min+(Math.random()-.5)*(this.config.limit.max-this.config.limit.min),s[l++]=this.config.limit.min+(Math.random()-.5)*(this.config.limit.max-this.config.limit.min),f.set(2*(Math.random()-.5),2*(Math.random()-.5),2*(Math.random()-.5),Math.random()*Math.PI),f.normalize(),u[d++]=f.x,u[d++]=f.y,u[d++]=f.z,u[d++]=f.w,c[h++]=.1+Math.random()*this.config.scale,c[h++]=.1+Math.random()*this.config.scale,c[h++]=.1+Math.random()*this.config.scale;return n.addAttribute("translation",new e.InstancedBufferAttribute(s,3,1)),n.addAttribute("rotation",new e.InstancedBufferAttribute(u,4,1)),n.addAttribute("scale",new e.InstancedBufferAttribute(c,3,1)),this.material=new e.RawShaderMaterial({uniforms:{time:{type:"f",value:0}},vertexShader:"\nprecision highp float;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat3 normalMatrix;\nuniform float time;\n\n//'blueprint' attribute\nattribute vec3 position;\n\n//instance attributes\nattribute vec3 translation;\nattribute vec4 rotation;\nattribute vec3 scale;\n\nfloat mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}\nvec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}\nvec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}\n\nfloat noise(vec3 p){\n    vec3 a = floor(p);\n    vec3 d = p - a;\n    d = d * d * (3.0 - 2.0 * d);\n\n    vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n    vec4 k1 = perm(b.xyxy);\n    vec4 k2 = perm(k1.xyxy + b.zzww);\n\n    vec4 c = k2 + a.zzzz;\n    vec4 k3 = perm(c);\n    vec4 k4 = perm(c + 1.0);\n\n    vec4 o1 = fract(k3 * (1.0 / 41.0));\n    vec4 o2 = fract(k4 * (1.0 / 41.0));\n\n    vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n    vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\n    return o4.y * d.y + o4.x * (1.0 - d.y);\n}\n\n// transforms the 'blueprint' geometry with instance attributes\nvec3 transform( inout vec3 position, vec3 T, vec4 R, vec3 S ) {\n    //applies the scale\n    position *= S;\n    //computes the rotation where R is a (vec4) quaternion\n    position += 2.0 * cross( R.xyz, cross( R.xyz, position ) + R.w * position );\n    //translates the transformed 'blueprint'\n    position += T;\n    //return the transformed position\n    return position;\n}\n\n//re-use position for shading\nvarying vec3 vPos;\n\n#define PI 3.14159265358979323846\n\nvoid main() {\n    //collects the 'blueprint' coordinates\n    vec3 pos = position;\n    vec3 trans = translation;\n\n\n    vec4 rot = rotation;\n    // rot.x: = 2.*PI*noise(vec3(rotation.xy, rotation.z + time/1000.));\n    \n    trans.x = (noise(vec3(trans.x+time/10000000., trans.yz)) - 0.5) * 100.;\n    trans.y = (noise(vec3(trans.x, trans.y+time/10000000., trans.z)) - 0.5) * 100.;\n    trans.z = (noise(vec3(trans.xy, trans.z+time/10000000.)) - 0.5) * 100.;\n    \n    \n\n    //transform it\n    transform( pos, trans, rot, scale );\n    //project to get the fragment position\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n    //just to render something :)\n    vPos = pos;\n}\n",fragmentShader:"\nprecision highp float;\nvarying vec3 vPos;\nvoid main() {\n    //normalize( vPos )\n    gl_FragColor = vec4( 0., 0., 0., .5 );\n}\n",side:e.DoubleSide,transparent:!0}),new e.Mesh(n,this.material)}},{key:"render",value:function(e){this.material.uniforms.time.value=e,this.material.uniforms.needsUpdate=!0}}]),t}();t.default=o}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={stats:!1,gui:!0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,i,o,a){n.add(t,"min",i,o).name("min"+a).listen().onChange(function(e){t.max<t.min&&(t.max=t.min)}).onFinishChange(e.tree.replace.bind(e.tree)),n.add(t,"max",i,o).name("max"+a).listen().onChange(function(e){t.max<t.min&&(t.min=t.max)}).onFinishChange(e.tree.replace.bind(e.tree))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),r=i(a),s=n(1),u=i(s),c=function(){var e=new r.default.GUI;e.close();var t=e.addFolder("Branch"),n=e.addFolder("Trunk"),i=e.addFolder("Animation");e.add(u.default.CONFIG.compute,"precision",.001,.1).onFinishChange(this.tree.newGeometry.bind(this.tree)),e.add(u.default.CONFIG.compute,"dist",.001,1).onFinishChange(this.tree.newGeometry.bind(this.tree)),e.add(u.default.CONFIG.compute,"pointW",.4,5).onFinishChange(this.tree.updateUniforms.bind(this.tree)),e.add(this.tree,"display").listen(),n.add(u.default.CONFIG.trunk,"l",0,10).name("length").onFinishChange(this.tree.replace.bind(this.tree)),n.add(u.default.CONFIG.trunk,"w",0,2.5).name("weight").onFinishChange(this.tree.replace.bind(this.tree)),n.add(u.default.CONFIG.trunk.noise,"speed",0,2).name("twistChangeSpeed").onFinishChange(this.tree.newGeometry.bind(this.tree)),n.add(u.default.CONFIG.trunk.noise,"force",0,2).name("twistForce").onFinishChange(this.tree.newGeometry.bind(this.tree)),n.add(u.default.CONFIG.trunk.transition,"w",0,1).name("weightTransition").onFinishChange(this.tree.newGeometry.bind(this.tree));var a=n.addFolder("Branch Child creation");a.add(u.default.CONFIG.trunk.prob.behaviourSeparation,"division",0,1).name("Division").onFinishChange(this.tree.replace.bind(this.tree)),a.add(u.default.CONFIG.trunk.prob.behaviourSeparation,"ramification",0,1).name("Ramification").onFinishChange(this.tree.replace.bind(this.tree));for(var s=a.addFolder("Number of child branches (probability)"),c=0;c<u.default.CONFIG.trunk.prob.countChild.length;c++)s.add(u.default.CONFIG.trunk.prob.countChild,c,0,10).step(.2).onFinishChange(this.tree.replace.bind(this.tree));o(this,u.default.CONFIG.branch.l,t,0,10,"Length"),o(this,u.default.CONFIG.branch.w,t,0,2,"Weight"),o(this,u.default.CONFIG.branch.w.transfer,t,0,1,"Transfer"),t.add(u.default.CONFIG.branch.noise,"speed",0,2).name("twistChangeSpeed").onFinishChange(this.tree.newGeometry.bind(this.tree)),t.add(u.default.CONFIG.branch.noise,"force",0,2).name("twistForce").onFinishChange(this.tree.newGeometry.bind(this.tree)),t.add(u.default.CONFIG.branch.transition,"w",0,1).name("weightTransition").onFinishChange(this.tree.newGeometry.bind(this.tree));var l=t.addFolder("Branch Child creation");l.add(u.default.CONFIG.branch.prob.behaviourSeparation,"division",0,1).name("Division").onFinishChange(this.tree.replace.bind(this.tree)),l.add(u.default.CONFIG.branch.prob.behaviourSeparation,"ramification",0,1).name("Ramification").onFinishChange(this.tree.replace.bind(this.tree));for(var d=l.addFolder("Number of child branches (probability)"),c=0;c<u.default.CONFIG.branch.prob.countChild.length;c++)d.add(u.default.CONFIG.branch.prob.countChild,c,0,10).step(.2).onFinishChange(this.tree.replace.bind(this.tree));i.add(u.default.CONFIG.animation.noise,"speed",0,.005).onChange(this.tree.updateUniforms.bind(this.tree)),i.add(u.default.CONFIG.animation.noise,"force",0,1).onChange(this.tree.updateUniforms.bind(this.tree)),i.add(u.default.CONFIG.animation.hurricane,"radius",0,5).onChange(this.tree.updateUniforms.bind(this.tree)),i.add(u.default.CONFIG.animation.hurricane,"turns",0,20).onChange(this.tree.updateUniforms.bind(this.tree)),i.add(u.default.CONFIG.animation,"durationLeave",0,5e3).onChange(this.tree.updateUniforms.bind(this.tree))};t.default=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){i(this,e),this.autoStart=void 0===t||t,this._start=0,this.old=0,this.running=!1,this.elapsed=0,this.autoStart&&this.start()}return o(e,[{key:"start",value:function(){this._start=Date.now(),this.old=this._start,this.elapsed=0,this.running=!0}},{key:"stop",value:function(){this.running=!1}},{key:"update",value:function(){if(this.running){var e=Date.now();this.elapsed+=e-this.old,this.old=e}}}]),e}();t.default=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),e.OrbitControls=function(t,n){function i(){return 2*Math.PI/60/60*_.autoRotateSpeed}function o(){return Math.pow(.95,_.zoomSpeed)}function a(e){H.theta-=e}function r(e){H.phi-=e}function s(t){_.object instanceof e.PerspectiveCamera?D/=t:_.object instanceof e.OrthographicCamera?(_.object.zoom=Math.max(_.minZoom,Math.min(_.maxZoom,_.object.zoom*t)),_.object.updateProjectionMatrix(),Y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),_.enableZoom=!1)}function u(t){_.object instanceof e.PerspectiveCamera?D*=t:_.object instanceof e.OrthographicCamera?(_.object.zoom=Math.max(_.minZoom,Math.min(_.maxZoom,_.object.zoom/t)),_.object.updateProjectionMatrix(),Y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),_.enableZoom=!1)}function c(e){Z.set(e.clientX,e.clientY)}function l(e){J.set(e.clientX,e.clientY)}function d(e){K.set(e.clientX,e.clientY)}function h(e){W.set(e.clientX,e.clientY),X.subVectors(W,Z),_.updateInertial(X);var t=_.domElement===document?_.domElement.body:_.domElement;a(2*Math.PI*X.x/t.clientWidth*_.rotateSpeed),r(2*Math.PI*X.y/t.clientHeight*_.rotateSpeed),Z.copy(W),_.update()}function f(e){$.set(e.clientX,e.clientY),ee.subVectors($,J),ee.y>0?s(o()):ee.y<0&&u(o()),J.copy($),_.update()}function m(e){q.set(e.clientX,e.clientY),Q.subVectors(q,K),ie(Q.x,Q.y),K.copy(q),_.update()}function p(e){_.needAnimate=!0}function b(e){e.deltaY<0?u(o()):e.deltaY>0&&s(o()),_.update()}function v(e){switch(e.keyCode){case _.keys.UP:ie(0,_.keyPanSpeed),_.update();break;case _.keys.BOTTOM:ie(0,-_.keyPanSpeed),_.update();break;case _.keys.LEFT:ie(_.keyPanSpeed,0),_.update();break;case _.keys.RIGHT:ie(-_.keyPanSpeed,0),_.update()}}function y(e){Z.set(e.touches[0].pageX,e.touches[0].pageY)}function g(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);J.set(0,i)}function w(e){K.set(e.touches[0].pageX,e.touches[0].pageY)}function C(e){W.set(e.touches[0].pageX,e.touches[0].pageY),X.subVectors(W,Z);var t=_.domElement===document?_.domElement.body:_.domElement;a(2*Math.PI*X.x/t.clientWidth*_.rotateSpeed),r(2*Math.PI*X.y/t.clientHeight*_.rotateSpeed),Z.copy(W),_.update()}function O(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);$.set(0,i),ee.subVectors($,J),ee.y>0?u(o()):ee.y<0&&s(o()),J.copy($),_.update()}function x(e){q.set(e.touches[0].pageX,e.touches[0].pageY),Q.subVectors(q,K),ie(Q.x,Q.y),K.copy(q),_.update()}function k(e){}function M(e){if(!1!==_.enabled){switch(e.preventDefault(),e.button){case _.mouseButtons.ORBIT:if(!1===_.enableRotate)return;c(e),L=G.ROTATE;break;case _.mouseButtons.ZOOM:if(!1===_.enableZoom)return;l(e),L=G.DOLLY;break;case _.mouseButtons.PAN:if(!1===_.enablePan)return;d(e),L=G.PAN}L!==G.NONE&&(document.addEventListener("mousemove",E,!1),document.addEventListener("mouseup",P,!1),_.dispatchEvent(T))}}function E(e){if(!1!==_.enabled)switch(e.preventDefault(),L){case G.ROTATE:if(!1===_.enableRotate)return;h(e);break;case G.DOLLY:if(!1===_.enableZoom)return;f(e);break;case G.PAN:if(!1===_.enablePan)return;m(e)}}function P(e){!1!==_.enabled&&(p(e),document.removeEventListener("mousemove",E,!1),document.removeEventListener("mouseup",P,!1),_.dispatchEvent(S),L=G.NONE)}function F(e){!1===_.enabled||!1===_.enableZoom||L!==G.NONE&&L!==G.ROTATE||(e.preventDefault(),e.stopPropagation(),b(e),_.dispatchEvent(T),_.dispatchEvent(S))}function I(e){!1!==_.enabled&&!1!==_.enableKeys&&!1!==_.enablePan&&v(e)}function N(e){if(!1!==_.enabled){switch(e.touches.length){case 1:if(!1===_.enableRotate)return;y(e),L=G.TOUCH_ROTATE;break;case 2:if(!1===_.enableZoom)return;g(e),L=G.TOUCH_DOLLY;break;case 3:if(!1===_.enablePan)return;w(e),L=G.TOUCH_PAN;break;default:L=G.NONE}L!==G.NONE&&_.dispatchEvent(T)}}function R(e){if(!1!==_.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===_.enableRotate)return;if(L!==G.TOUCH_ROTATE)return;C(e);break;case 2:if(!1===_.enableZoom)return;if(L!==G.TOUCH_DOLLY)return;O(e);break;case 3:if(!1===_.enablePan)return;if(L!==G.TOUCH_PAN)return;x(e);break;default:L=G.NONE}}function j(e){!1!==_.enabled&&(k(e),_.dispatchEvent(S),L=G.NONE)}function A(e){!1!==_.enabled&&e.preventDefault()}this.object=t,this.velocity=new e.Vector2,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return U.phi},this.getAzimuthalAngle=function(){return U.theta},this.saveState=function(){_.target0.copy(_.target),_.position0.copy(_.object.position),_.zoom0=_.object.zoom},this.reset=function(){_.target.copy(_.target0),_.object.position.copy(_.position0),_.object.zoom=_.zoom0,_.object.updateProjectionMatrix(),_.dispatchEvent(z),_.update(),L=G.NONE},this.animate=function(){this.needAnimate&&(this.velocity.x*=.9,a(this.velocity.x),this.update(),Math.abs(this.velocity.x)<.01&&(this.velocity.x=0,this.needAnimate=!1))},this.updateInertial=function(e){this.velocity.x=e.x/30,this.velocity.y=0},this.update=function(){var n=new e.Vector3,o=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),r=o.clone().inverse(),s=new e.Vector3,u=new e.Quaternion;return function(){var e=_.object.position;return n.copy(e).sub(_.target),n.applyQuaternion(o),U.setFromVector3(n),_.autoRotate&&L===G.NONE&&a(i()),U.theta+=H.theta,U.phi+=H.phi,U.theta=Math.max(_.minAzimuthAngle,Math.min(_.maxAzimuthAngle,U.theta)),U.phi=Math.max(_.minPolarAngle,Math.min(_.maxPolarAngle,U.phi)),U.makeSafe(),U.radius*=D,U.radius=Math.max(_.minDistance,Math.min(_.maxDistance,U.radius)),_.target.add(B),n.setFromSpherical(U),n.applyQuaternion(r),e.copy(_.target).add(n),_.object.lookAt(_.target),!0===_.enableDamping?(H.theta*=1-_.dampingFactor,H.phi*=1-_.dampingFactor):H.set(0,0,0),D=1,B.set(0,0,0),!!(Y||s.distanceToSquared(_.object.position)>V||8*(1-u.dot(_.object.quaternion))>V)&&(_.dispatchEvent(z),s.copy(_.object.position),u.copy(_.object.quaternion),Y=!1,!0)}}(),this.dispose=function(){_.domElement.removeEventListener("contextmenu",A,!1),_.domElement.removeEventListener("mousedown",M,!1),_.domElement.removeEventListener("wheel",F,!1),_.domElement.removeEventListener("touchstart",N,!1),_.domElement.removeEventListener("touchend",j,!1),_.domElement.removeEventListener("touchmove",R,!1),document.removeEventListener("mousemove",E,!1),document.removeEventListener("mouseup",P,!1),window.removeEventListener("keydown",I,!1)};var _=this,z={type:"change"},T={type:"start"},S={type:"end"},G={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},L=G.NONE,V=1e-6,U=new e.Spherical,H=new e.Spherical,D=1,B=new e.Vector3,Y=!1,Z=new e.Vector2,W=new e.Vector2,X=new e.Vector2,K=new e.Vector2,q=new e.Vector2,Q=new e.Vector2,J=new e.Vector2,$=new e.Vector2,ee=new e.Vector2,te=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),B.add(t)}}(),ne=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),B.add(t)}}(),ie=function(){var t=new e.Vector3;return function(n,i){var o=_.domElement===document?_.domElement.body:_.domElement;if(_.object instanceof e.PerspectiveCamera){var a=_.object.position;t.copy(a).sub(_.target);var r=t.length();r*=Math.tan(_.object.fov/2*Math.PI/180),te(2*n*r/o.clientHeight,_.object.matrix),ne(2*i*r/o.clientHeight,_.object.matrix)}else _.object instanceof e.OrthographicCamera?(te(n*(_.object.right-_.object.left)/_.object.zoom/o.clientWidth,_.object.matrix),ne(i*(_.object.top-_.object.bottom)/_.object.zoom/o.clientHeight,_.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),_.enablePan=!1)}}();_.domElement.addEventListener("contextmenu",A,!1),_.domElement.addEventListener("mousedown",M,!1),_.domElement.addEventListener("wheel",F,!1),_.domElement.addEventListener("touchstart",N,!1),_.domElement.addEventListener("touchend",j,!1),_.domElement.addEventListener("touchmove",R,!1),window.addEventListener("keydown",I,!1),this.update()},e.OrbitControls.prototype=Object.create(e.EventDispatcher.prototype),e.OrbitControls.prototype.constructor=e.OrbitControls,Object.defineProperties(e.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t.default=e.OrbitControls}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),c=(i(u),n(4)),l=i(c),d=function(t){function n(e,t){o(this,n);var i=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));i._tree=e,i.type="TreeGeometry";var r=i._tree.tree.compute(e.config.compute.precision);return i.vertices=r.vertices,i.weights=r.weights,i.computeVertices(),t.animate&&i.initAnimation(),i}return r(n,t),s(n,[{key:"computeWeights",value:function(){for(var t=new Float32Array(this.vertices.length),n=0;n<t.length;n++)t[n]=this.weights[n];console.log(t),this.addAttribute("weight",new e.BufferAttribute(t,1))}},{key:"computeVertices",value:function(){for(var t=new Float32Array(3*this.vertices.length),n=0;n<this.vertices.length;n++)t[3*n]=this.vertices[n].x,t[3*n+1]=this.vertices[n].y,t[3*n+2]=this.vertices[n].z;return this.addAttribute("position",new e.BufferAttribute(t,3)),t}},{key:"initAnimation",value:function(){for(var t=this.vertices.length,n=new Float32Array(t),i=0;i<t;i++)n[i]=500*this.vertices[i].y+l.default.betweenNumber(500,1e3);var o=new Float32Array(t).fill(0).map(function(e){return 1e3*Math.random()});this.addAttribute("duration",new e.BufferAttribute(n,1)),this.addAttribute("delay",new e.BufferAttribute(o,1))}}]),n}(e.BufferGeometry);t.default=d}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(3),c=i(u),l=n(2),d=i(l),h=function(t){function n(e){return o(this,n),e.type=d.default.TRUNK,a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return r(n,t),s(n,[{key:"init",value:function(){this.length=d.default.trunk.l,this.weight=d.default.trunk.w,this.noiseCoord=new e.Vector2(Math.random(),Math.random()),this.baseCoord=null==this.parent?new e.Vector3:this.parent.topCoord,this.topCoord=this.getCoordsAtLength(this.length),this.canHaveChild&&this.genRamification()}}]),n}(c.default);t.default=h}).call(t,n(0))},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){for(var t={},n=0;n<e.length;++n)t[n]=e[n];return t}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){o(this,e)}return r(e,null,[{key:"hydrate",value:function(e,t){keys.push(i),values.push(arg[i]),sum+=arg[i]}},{key:"random",value:function(e){var t=0,n=null,i=[],o=[];e instanceof Array&&(e=a(e));for(var r in e)i.push(r),o.push(e[r]),t+=e[r];for(var s=Math.random()*t,r=0,u=0;r<o.length;r++)if(u+=o[r],s<u){n=i[r];break}return n}},{key:"between",value:function(e,t){return(t-e)*Math.random()+e}}]),e}();t.default=s},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function t(){n(this,t)}return i(t,null,[{key:"rotateLooking",value:function(t,n){var i=Math.acos(t.dot(n)),o=(new e.Vector3).copy(t).cross(n);return(new e.Vector3).copy(t).applyAxisAngle(o,i)}},{key:"genCircle",value:function(t,n,i){for(var o,a,r=2*Math.PI/t,s=[],u=0;u<t;u++)o=n+r*u,a=new e.Vector3(Math.cos(o)*i,0,Math.sin(o)*i),s.push((new e.Vector3).copy(a));return s}}]),t}();t.default=o}).call(t,n(0))},,,,,,function(e,t){e.exports="void main () {\n  gl_FragColor = vec4(0., 0., 0., 1.);\n}"},function(e,t){e.exports="uniform float time;\nuniform float start;\nuniform bool isLeaving;\n\nuniform float noiseSpeed;\nuniform float noiseIntensity;\nuniform float pointSize;\nuniform float animRadius;\nuniform float animRotationSpeed;\nuniform float durationLeave;\n\nattribute float duration;\nvec3 floorPos = vec3(0., -10., 0.); \nattribute float delay;\n\nfloat linearAnim = 0.;\n\n\n\n\n#define PI 3.14159265358979323846\n\n// Transition function\n\nfloat quadraticOut(float t) {\n  return -t * (t - 2.0);\n}\n\nfloat quadraticIn(float t) {\n  return t * t;\n}\n\nfloat cubicInOut(float t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 0.5 * pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n// Noise\n\nfloat mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}\nvec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}\nvec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}\n\nfloat noise(vec3 p){\n    vec3 a = floor(p);\n    vec3 d = p - a;\n    d = d * d * (3.0 - 2.0 * d);\n\n    vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n    vec4 k1 = perm(b.xyxy);\n    vec4 k2 = perm(k1.xyxy + b.zzww);\n\n    vec4 c = k2 + a.zzzz;\n    vec4 k3 = perm(c);\n    vec4 k4 = perm(c + 1.0);\n\n    vec4 o1 = fract(k3 * (1.0 / 41.0));\n    vec4 o2 = fract(k4 * (1.0 / 41.0));\n\n    vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n    vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\n    return (o4.y * d.y + o4.x * (1.0 - d.y)) - 0.5;\n}\n\n\n\n\nvec3 hurricane(float anim, vec3 origin, vec3 target){\n    float radius;\n        \n    if( anim < 0.5 ){\n        radius = cubicInOut(anim*2.) * animRadius; \n    } else {\n        radius = 1. - cubicInOut((anim - 0.5)*2.) * animRadius;\n    }\n\n    vec3 pos = origin + (target - origin) * anim;    \n    vec3 rotatePos = vec3( cos ( anim * 2. * PI * animRotationSpeed ) * radius, 0., sin( anim * 2. * PI * animRotationSpeed ) * radius );\n   \n    return pos + rotatePos;\n}\n\n\nvoid main() {\n    vec3 newPosition = position;\n    float anim; \n\n    if (isLeaving) {\n        if( time > start + delay ){\n            linearAnim = min(1., (time - start - delay)/(delay + durationLeave)); \n        }\n        anim = 1. - quadraticIn(linearAnim); \n    } else {\n        if( time > start + delay ){\n            linearAnim = min(1., (time - start - delay)/(delay + duration)); \n        }\n        anim = quadraticOut(linearAnim); \n    }\n\n    if( anim < 1. ){ \n        newPosition = hurricane( anim, floorPos, position ); \n    } \n\n    newPosition = newPosition + position * noise( vec3( position.xy, position.z + time*noiseSpeed ) ) * (position.y / 15.) * noiseIntensity ;\n    \n    gl_PointSize = pointSize;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n\n}"}],[7]);