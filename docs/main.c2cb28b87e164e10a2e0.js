webpackJsonp([0],[,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BRANCH:1,TRUNK:2,HERITANCE:3,branch:{noise:{force:1.5,speed:.15},dist:.1,l:{min:.1,max:1.5,wRat:{min:10,max:15}},w:{min:.05,max:.5,transfer:{min:.5,max:.7}},transition:{w:.3},prob:{behaviourSeparation:{division:0,ramification:1},countChild:[0,0,2,2,0,0]}},trunk:{l:2.5,w:.5,transition:{w:.3},dist:.1,noise:{force:.15,speed:.3},prob:{behaviourSeparation:{division:.2,ramification:1},countChild:[0,0,2,7,0,0]}},compute:{precision:.01,size:.01}}},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(7),s=i(r),c=n(12),u=i(c),d=n(16),h=n(6),l=i(h),f=n(9),m=i(f),p=n(5),b=i(p),v=function(){function t(){o(this,t),this.config=b.default,window.addEventListener("resize",this.onWindowResize.bind(this),!1),document.body.addEventListener("click",this.updateMousePosition.bind(this),!1),this.container=document.querySelector("#main"),document.body.appendChild(this.container),this.renderer=new e.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(15658734,1),this.container.appendChild(this.renderer.domElement),this.camera=new e.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(10,0,0),this.controls=new s.default(this.camera),this.mouse=new e.Vector2,this.clock=new l.default,this.config.stats&&this.initStat(),this.scene=new e.Scene,this.tree=new m.default,this.scene.add(this.tree.mesh),this.initDatGUI(),this.onWindowResize(),this.renderer.animate(this.render.bind(this))}return a(t,[{key:"initDatGUI",value:function(){var e=this,t=new u.default.GUI;t.close();var n=t.addFolder("Branch"),i=t.addFolder("Trunk");t.add(m.default.CONFIG.compute,"size",0,1).onFinishChange(e.tree.update.bind(e.tree)),i.add(m.default.CONFIG.trunk,"l",0,10).name("length").onFinishChange(e.tree.update.bind(e.tree)),i.add(m.default.CONFIG.trunk,"w",0,2.5).name("weight").onFinishChange(e.tree.update.bind(e.tree)),i.add(m.default.CONFIG.trunk.noise,"speed",0,2).name("twistChangeSpeed").onFinishChange(e.tree.update.bind(e.tree)),i.add(m.default.CONFIG.trunk.noise,"force",0,2).name("twistForce").onFinishChange(e.tree.update.bind(e.tree));var o=i.addFolder("Branch Child creation");o.add(m.default.CONFIG.trunk.prob.behaviourSeparation,"division",0,1).name("Division").onFinishChange(e.tree.update.bind(e.tree)),o.add(m.default.CONFIG.trunk.prob.behaviourSeparation,"ramification",0,1).name("Ramification").onFinishChange(e.tree.update.bind(e.tree));for(var a=o.addFolder("Number of child branches (probability)"),r=0;r<m.default.CONFIG.trunk.prob.countChild.length;r++)a.add(m.default.CONFIG.trunk.prob.countChild,r,0,10).step(.2).onFinishChange(e.tree.update.bind(e.tree));this.manageMinMaxGui(m.default.CONFIG.branch.l,n,0,10,"Length"),this.manageMinMaxGui(m.default.CONFIG.branch.w,n,0,2,"Weight"),this.manageMinMaxGui(m.default.CONFIG.branch.w.transfer,n,0,1,"Transfer"),n.add(m.default.CONFIG.branch.noise,"speed",0,2).name("twistChangeSpeed").onFinishChange(e.tree.update.bind(e.tree)),n.add(m.default.CONFIG.branch.noise,"force",0,2).name("twistForce").onFinishChange(e.tree.update.bind(e.tree));var s=n.addFolder("Branch Child creation");s.add(m.default.CONFIG.branch.prob.behaviourSeparation,"division",0,1).name("Division").onFinishChange(e.tree.update.bind(e.tree)),s.add(m.default.CONFIG.branch.prob.behaviourSeparation,"ramification",0,1).name("Ramification").onFinishChange(e.tree.update.bind(e.tree));for(var c=s.addFolder("Number of child branches (probability)"),r=0;r<m.default.CONFIG.branch.prob.countChild.length;r++)c.add(m.default.CONFIG.branch.prob.countChild,r,0,10).step(.2).onFinishChange(e.tree.update.bind(e.tree))}},{key:"manageMinMaxGui",value:function(e,t,n,i,o){var a=this;t.add(e,"min",n,i).name("min"+o).listen().onChange(function(t){e.max<e.min&&(e.max=e.min)}).onFinishChange(a.tree.update.bind(a.tree)),t.add(e,"max",n,i).name("max"+o).listen().onChange(function(t){e.max<e.min&&(e.min=e.max)}).onFinishChange(a.tree.update.bind(a.tree))}},{key:"initStat",value:function(){this.stats=new d.Stats,this.stats.showPanel(1),document.body.appendChild(this.stats.dom)}},{key:"beforeRender",value:function(){this.config.stats&&this.stats.begin(),this.clock.update()}},{key:"afterRender",value:function(){this.config.stats&&this.stats.end()}},{key:"render",value:function(){this.beforeRender(),this.tree.render(this.clock.elapsed),this.renderer.render(this.scene,this.camera),this.afterRender()}},{key:"updateMousePosition",value:function(e){this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}]),t}();t.default=v}).call(t,n(0))},function(e,t){},function(e,t,n){"use strict";n(3);var i=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(i);window.app=new o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={stats:!1,gui:!0}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){i(this,e),this.autoStart=void 0===t||t,this._start=0,this.old=0,this.running=!1,this.elapsed=0,this.autoStart&&this.start()}return o(e,[{key:"start",value:function(){this._start=Date.now(),this.old=this._start,this.elapsed=0,this.running=!0}},{key:"stop",value:function(){this.running=!1}},{key:"update",value:function(){if(this.running){var e=Date.now();this.elapsed+=e-this.old,this.old=e}}}]),e}();t.default=a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),e.OrbitControls=function(t,n){function i(){return 2*Math.PI/60/60*z.autoRotateSpeed}function o(){return Math.pow(.95,z.zoomSpeed)}function a(e){U.theta-=e}function r(e){U.phi-=e}function s(t){z.object instanceof e.PerspectiveCamera?D/=t:z.object instanceof e.OrthographicCamera?(z.object.zoom=Math.max(z.minZoom,Math.min(z.maxZoom,z.object.zoom*t)),z.object.updateProjectionMatrix(),Z=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),z.enableZoom=!1)}function c(t){z.object instanceof e.PerspectiveCamera?D*=t:z.object instanceof e.OrthographicCamera?(z.object.zoom=Math.max(z.minZoom,Math.min(z.maxZoom,z.object.zoom/t)),z.object.updateProjectionMatrix(),Z=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),z.enableZoom=!1)}function u(e){B.set(e.clientX,e.clientY)}function d(e){J.set(e.clientX,e.clientY)}function h(e){K.set(e.clientX,e.clientY)}function l(e){W.set(e.clientX,e.clientY),X.subVectors(W,B);var t=z.domElement===document?z.domElement.body:z.domElement;a(2*Math.PI*X.x/t.clientWidth*z.rotateSpeed),r(2*Math.PI*X.y/t.clientHeight*z.rotateSpeed),B.copy(W),z.update()}function f(e){$.set(e.clientX,e.clientY),ee.subVectors($,J),ee.y>0?s(o()):ee.y<0&&c(o()),J.copy($),z.update()}function m(e){q.set(e.clientX,e.clientY),Q.subVectors(q,K),ie(Q.x,Q.y),K.copy(q),z.update()}function p(e){}function b(e){e.deltaY<0?c(o()):e.deltaY>0&&s(o()),z.update()}function v(e){switch(e.keyCode){case z.keys.UP:ie(0,z.keyPanSpeed),z.update();break;case z.keys.BOTTOM:ie(0,-z.keyPanSpeed),z.update();break;case z.keys.LEFT:ie(z.keyPanSpeed,0),z.update();break;case z.keys.RIGHT:ie(-z.keyPanSpeed,0),z.update()}}function g(e){B.set(e.touches[0].pageX,e.touches[0].pageY)}function y(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);J.set(0,i)}function w(e){K.set(e.touches[0].pageX,e.touches[0].pageY)}function C(e){W.set(e.touches[0].pageX,e.touches[0].pageY),X.subVectors(W,B);var t=z.domElement===document?z.domElement.body:z.domElement;a(2*Math.PI*X.x/t.clientWidth*z.rotateSpeed),r(2*Math.PI*X.y/t.clientHeight*z.rotateSpeed),B.copy(W),z.update()}function E(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);$.set(0,i),ee.subVectors($,J),ee.y>0?c(o()):ee.y<0&&s(o()),J.copy($),z.update()}function O(e){q.set(e.touches[0].pageX,e.touches[0].pageY),Q.subVectors(q,K),ie(Q.x,Q.y),K.copy(q),z.update()}function k(e){}function M(e){if(!1!==z.enabled){switch(e.preventDefault(),e.button){case z.mouseButtons.ORBIT:if(!1===z.enableRotate)return;u(e),G=_.ROTATE;break;case z.mouseButtons.ZOOM:if(!1===z.enableZoom)return;d(e),G=_.DOLLY;break;case z.mouseButtons.PAN:if(!1===z.enablePan)return;h(e),G=_.PAN}G!==_.NONE&&(document.addEventListener("mousemove",x,!1),document.addEventListener("mouseup",P,!1),z.dispatchEvent(A))}}function x(e){if(!1!==z.enabled)switch(e.preventDefault(),G){case _.ROTATE:if(!1===z.enableRotate)return;l(e);break;case _.DOLLY:if(!1===z.enableZoom)return;f(e);break;case _.PAN:if(!1===z.enablePan)return;m(e)}}function P(e){!1!==z.enabled&&(p(e),document.removeEventListener("mousemove",x,!1),document.removeEventListener("mouseup",P,!1),z.dispatchEvent(L),G=_.NONE)}function R(e){!1===z.enabled||!1===z.enableZoom||G!==_.NONE&&G!==_.ROTATE||(e.preventDefault(),e.stopPropagation(),b(e),z.dispatchEvent(A),z.dispatchEvent(L))}function N(e){!1!==z.enabled&&!1!==z.enableKeys&&!1!==z.enablePan&&v(e)}function T(e){if(!1!==z.enabled){switch(e.touches.length){case 1:if(!1===z.enableRotate)return;g(e),G=_.TOUCH_ROTATE;break;case 2:if(!1===z.enableZoom)return;y(e),G=_.TOUCH_DOLLY;break;case 3:if(!1===z.enablePan)return;w(e),G=_.TOUCH_PAN;break;default:G=_.NONE}G!==_.NONE&&z.dispatchEvent(A)}}function j(e){if(!1!==z.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===z.enableRotate)return;if(G!==_.TOUCH_ROTATE)return;C(e);break;case 2:if(!1===z.enableZoom)return;if(G!==_.TOUCH_DOLLY)return;E(e);break;case 3:if(!1===z.enablePan)return;if(G!==_.TOUCH_PAN)return;O(e);break;default:G=_.NONE}}function F(e){!1!==z.enabled&&(k(e),z.dispatchEvent(L),G=_.NONE)}function I(e){!1!==z.enabled&&e.preventDefault()}this.object=t,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return V.phi},this.getAzimuthalAngle=function(){return V.theta},this.saveState=function(){z.target0.copy(z.target),z.position0.copy(z.object.position),z.zoom0=z.object.zoom},this.reset=function(){z.target.copy(z.target0),z.object.position.copy(z.position0),z.object.zoom=z.zoom0,z.object.updateProjectionMatrix(),z.dispatchEvent(S),z.update(),G=_.NONE},this.update=function(){var n=new e.Vector3,o=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),r=o.clone().inverse(),s=new e.Vector3,c=new e.Quaternion;return function(){var e=z.object.position;return n.copy(e).sub(z.target),n.applyQuaternion(o),V.setFromVector3(n),z.autoRotate&&G===_.NONE&&a(i()),V.theta+=U.theta,V.phi+=U.phi,V.theta=Math.max(z.minAzimuthAngle,Math.min(z.maxAzimuthAngle,V.theta)),V.phi=Math.max(z.minPolarAngle,Math.min(z.maxPolarAngle,V.phi)),V.makeSafe(),V.radius*=D,V.radius=Math.max(z.minDistance,Math.min(z.maxDistance,V.radius)),z.target.add(Y),n.setFromSpherical(V),n.applyQuaternion(r),e.copy(z.target).add(n),z.object.lookAt(z.target),!0===z.enableDamping?(U.theta*=1-z.dampingFactor,U.phi*=1-z.dampingFactor):U.set(0,0,0),D=1,Y.set(0,0,0),!!(Z||s.distanceToSquared(z.object.position)>H||8*(1-c.dot(z.object.quaternion))>H)&&(z.dispatchEvent(S),s.copy(z.object.position),c.copy(z.object.quaternion),Z=!1,!0)}}(),this.dispose=function(){z.domElement.removeEventListener("contextmenu",I,!1),z.domElement.removeEventListener("mousedown",M,!1),z.domElement.removeEventListener("wheel",R,!1),z.domElement.removeEventListener("touchstart",T,!1),z.domElement.removeEventListener("touchend",F,!1),z.domElement.removeEventListener("touchmove",j,!1),document.removeEventListener("mousemove",x,!1),document.removeEventListener("mouseup",P,!1),window.removeEventListener("keydown",N,!1)};var z=this,S={type:"change"},A={type:"start"},L={type:"end"},_={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},G=_.NONE,H=1e-6,V=new e.Spherical,U=new e.Spherical,D=1,Y=new e.Vector3,Z=!1,B=new e.Vector2,W=new e.Vector2,X=new e.Vector2,K=new e.Vector2,q=new e.Vector2,Q=new e.Vector2,J=new e.Vector2,$=new e.Vector2,ee=new e.Vector2,te=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),Y.add(t)}}(),ne=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),Y.add(t)}}(),ie=function(){var t=new e.Vector3;return function(n,i){var o=z.domElement===document?z.domElement.body:z.domElement;if(z.object instanceof e.PerspectiveCamera){var a=z.object.position;t.copy(a).sub(z.target);var r=t.length();r*=Math.tan(z.object.fov/2*Math.PI/180),te(2*n*r/o.clientHeight,z.object.matrix),ne(2*i*r/o.clientHeight,z.object.matrix)}else z.object instanceof e.OrthographicCamera?(te(n*(z.object.right-z.object.left)/z.object.zoom/o.clientWidth,z.object.matrix),ne(i*(z.object.top-z.object.bottom)/z.object.zoom/o.clientHeight,z.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),z.enablePan=!1)}}();z.domElement.addEventListener("contextmenu",I,!1),z.domElement.addEventListener("mousedown",M,!1),z.domElement.addEventListener("wheel",R,!1),z.domElement.addEventListener("touchstart",T,!1),z.domElement.addEventListener("touchend",F,!1),z.domElement.addEventListener("touchmove",j,!1),window.addEventListener("keydown",N,!1),this.update()},e.OrbitControls.prototype=Object.create(e.EventDispatcher.prototype),e.OrbitControls.prototype.constructor=e.OrbitControls,Object.defineProperties(e.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t.default=e.OrbitControls}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),s=i(r),c=n(10),u=i(c),d=n(11),h=(i(d),function(){function t(e){o(this,t),this.type=void 0!==e.type?e.type:s.default.BRANCH,this.inheritance=!!e.inheritance,this.parent=this.type==s.default.TRUNK?null:e.parent,this.noise=void 0!==e.noise?e.noise:this.parent.noise,this.length=null,this.baseLength=0,this.weight=null,this.ramifications=[],this.init()}return a(t,[{key:"testParent",value:function(){return this.weight>s.default.branch.w.min}},{key:"initTrunk",value:function(){this.length=s.default.trunk.l,this.weight=s.default.trunk.w,this.noiseCoord=new e.Vector2(Math.random(),Math.random())}},{key:"initBranch",value:function(){this.inheritance?(this.noiseCoord=this.parent.noiseCoord,this.type=this.parent.type,this.baseLength=this.parent.length):this.noiseCoord=new e.Vector2(Math.random(),Math.random());var t=u.default.between(s.default.branch.w.transfer.min,s.default.branch.w.transfer.max);this.weight=t*this.parent.weight;var n=u.default.between(s.default.branch.l.wRat.min,s.default.branch.l.wRat.max);this.length=Math.min(this.weight*n,s.default.branch.l.max)}},{key:"init",value:function(){this.parent?this.initBranch():this.initTrunk(),this.baseCoord=null==this.parent?new e.Vector3:this.parent.topCoord,this.topCoord=this.getCoordsAtLength(this.length),this.testParent()&&this.genRamification()}},{key:"genRamification",value:function(){for(var e=u.default.random(this.config.prob.countChild),n=u.default.random(this.config.prob.behaviourSeparation),i="ramification"==n,o=0;o<e;o++)this.ramifications.push(new t({inheritance:i,parent:this})),i=!1}},{key:"getCoordsAtLength",value:function(t){var n=this.config,i=n.noise.force*t*this.noise.simplex2(n.noise.speed*t+this.noiseCoord.x,this.noiseCoord.y),o=n.noise.force*t*this.noise.simplex2(this.noiseCoord.x,this.noiseCoord.x+n.noise.speed*t),a=(new e.Vector3).copy(this.baseCoord);return a.x+=i,a.y+=t,a.z+=o,a}},{key:"genCircles",value:function(t,n){var i,o,a,r,s,c,u,d,h,l,f,m=[];t.unshift(this.baseCoord);for(var p=1;p<t.length;p++){this.parent?(l=1-Math.min(1,p*n/this.length/this.config.transition.w),f=this.parent.weight-this.weight):(l=1-Math.min(1,p*n/this.length/this.config.transition.w),f=.8*this.weight),h=l*f+this.weight,a=Math.floor(2*Math.PI*h/this.config.dist),d=2*Math.PI/a,u=Math.random()*(2*Math.PI/6),i=(new e.Vector3).copy(t[p]).sub(t[p-1]);for(var b=0;b<a;b++)r=u+d*b,o=new e.Vector3(Math.cos(r)*h,0,Math.sin(r)*h),s=Math.acos(o.dot(i)),c=(new e.Vector3).copy(o).cross(i),o.applyAxisAngle(c,s).add(t[p]),m.push((new e.Vector3).copy(o))}return m}},{key:"compute",value:function(e){for(var t=[],n=Math.floor(this.length/e),i=0;i<n;i++)t.push(this.getCoordsAtLength(i*e));t=this.genCircles(t,e);for(var i=0;i<this.ramifications.length;i++)t=t.concat(this.ramifications[i].compute(e));return t}},{key:"config",get:function(){return this.type==s.default.TRUNK?s.default.trunk:s.default.branch}}]),t}());t.default=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),s=i(r),c=n(15),u=n(8),d=i(u),h=n(17),l=i(h),f=n(18),m=i(f),p=function(){function t(){o(this,t),this.config=s.default,this.noise=new c.Noise,this.new(),this.init()}return a(t,null,[{key:"CONFIG",get:function(){return s.default}}]),a(t,[{key:"new",value:function(){this.tree=new d.default({type:t.CONFIG.TRUNK,noise:this.noise}),this.compute()}},{key:"compute",value:function(){for(var e=this.tree.compute(s.default.compute.precision),t=new Float32Array(3*e.length),n=0;n<e.length;n++)t[3*n]=e[n].x,t[3*n+1]=e[n].y,t[3*n+2]=e[n].z;return t}},{key:"update",value:function(){this.new(),this.createGeometry(),this.mesh.geometry=this.geometry}},{key:"render",value:function(e){this.material.uniforms.time.value=e/1e3,this.material.uniforms.needsUpdate=!0}},{key:"createGeometry",value:function(){this.geometry=new e.BufferGeometry,this.geometry.addAttribute("position",new e.BufferAttribute(this.compute(),3))}},{key:"init",value:function(){this.createGeometry();var t={time:{type:"f",value:0}};this.material=new e.ShaderMaterial({uniforms:t,fragmentShader:l.default,vertexShader:m.default,color:8947848,size:s.default.compute.size}),this.mesh=new e.Points(this.geometry,this.material),this.mesh.name="Tree",this.mesh.position.y=-5}}]),t}();t.default=p}).call(t,n(0))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){i(this,e)}return o(e,null,[{key:"random",value:function(e){var t=0,n=null,i=[],o=[];if(e instanceof Array)for(var a=0;a<e.length;a++)i.push(a),o.push(e[a]),t+=e[a];if(e instanceof Object)for(var a in e)i.push(a),o.push(e[a]),t+=e[a];for(var r=Math.random()*t,a=0,s=0;a<o.length;a++)if(s+=o[a],r<s){n=i[a];break}return n}},{key:"between",value:function(e,t){return(t-e)*Math.random()+e}}]),e}();t.default=a},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e.Vector3,a=e.Vector2,r=(e.Vector4,function(){function e(){n(this,e)}return i(e,null,[{key:"randomInBox",value:function(e){return new o((e.x.max-e.x.min)*Math.random()+e.x.min,(e.y.max-e.y.min)*Math.random()+e.y.min,(e.z.max-e.z.min)*Math.random()+e.z.min)}},{key:"randomInCircle",value:function(e){var t=2*Math.random()*Math.PI;return new a(Math.cos(t)*e,Math.sin(t)*e)}},{key:"randomInDisc",value:function(e,t){var n=2*Math.random()*Math.PI;return new a(Math.cos(n)*radius,Math.sin(n)*radius)}},{key:"betweenNumber",value:function(e,t){return(t-e)*Math.random()+e}}]),e}());t.default=r}).call(t,n(0))},,,,,,function(e,t){e.exports="void main () {\n  gl_FragColor = vec4(0., 0., 0., 1.);\n}"},function(e,t){e.exports="uniform float time; \n\nfloat mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}\nvec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}\nvec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}\n\nfloat noise(vec3 p){\n    vec3 a = floor(p);\n    vec3 d = p - a;\n    d = d * d * (3.0 - 2.0 * d);\n\n    vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n    vec4 k1 = perm(b.xyxy);\n    vec4 k2 = perm(k1.xyxy + b.zzww);\n\n    vec4 c = k2 + a.zzzz;\n    vec4 k3 = perm(c);\n    vec4 k4 = perm(c + 1.0);\n\n    vec4 o1 = fract(k3 * (1.0 / 41.0));\n    vec4 o2 = fract(k4 * (1.0 / 41.0));\n\n    vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n    vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\n    return o4.y * d.y + o4.x * (1.0 - d.y);\n}\n\nvoid main() {\n    gl_PointSize = 1.5;\n\n    vec3 newPosition;\n    newPosition = position + position * noise( vec3(position.xy, position.z + time ) ) * 0.1;\n\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n\n}"}],[4]);